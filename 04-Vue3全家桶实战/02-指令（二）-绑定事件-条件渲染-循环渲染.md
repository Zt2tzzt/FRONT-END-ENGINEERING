# v-on 指令

v-on 的作用，语法糖，预期，参数，修饰符

- 作用：给元素绑定事件并监听。
- 预期：`@`
- 参数：event
- 修饰符：
	- `.stop` - 调用 event.stopPropagation()。
	- `.prevent` - 调用 event.preventDefault()。
	- `.capture` - 添加事件侦听器时使用 capture 模式。
	- `.self` - 只当事件是从侦听器绑定的元素本身触发时才触发回调。
	- `.{`keyAlias} - 仅当事件是从特定键触发时才触发回调。
	- `.once` - 只触发一次回调。
	- `.left` - 只当点击鼠标左键时触发。
	- `.right` - 只当点击鼠标右键时触发。
	- `.middle` - 只当点击鼠标中键时触发。
	- `.passive` - { passive: true } 模式添加侦听器

-----

v-on 的使用

- 基本使用，
- 绑定一个表达式（行内表达式 inline statement）不推荐，直接修改了 JS 变量，
- 绑定一个对象，代码实现，不推荐，阅读性不高。

```html
<body>
  <div id="app">
    <!-- 完整写法 -->
    <button v-on:click="btn1Click">按钮1</button>
    <div class="area" v-on:mousemove="mouseMove">div</div>
    <!-- 语法糖 -->
    <button @click="btn1Click">按钮1</button>
    <!-- 绑定一个表达式:inline statement -->
    <button @click="counter++">{{counter}}</button>
    <!-- 绑定一个对象 -->
    <div class="area" v-on="{click: btn1Click, mousemove: mouseMove}">哈哈哈</div>
    <div class="area" @="{click: btn1Click, mousemove: mouseMove}">哈哈哈</div>
  </div>
  <script src="https://unpkg.com/vue@next"></script>
  <script>
    const app = {
      data() {
        return {
          counter: 100
        }
      },
      methods:{
        btn1Click () {
          console.log('按钮1发生了点击');
        },
        mouseMove () {
          console.log('鼠标移到')
        }
      }
    }
    Vue.createApp(app).mount('#app')
  </script>
</body>
```

-----

v-on 传递参数的2种情况

- 方法不写 `()`，默认传递 event 参数。
- 如果既要用 event 也要传入参数，方法应要写成 `foo($event, parm)`；$event 实参位置不受限。

```html
<body>
  <div id="app">
    <!-- 默认传入event对象,可以在方法中获取 -->
    <button @click="btn1Click">按钮1</button>
    <!-- $event可以获取到事件发生时的事件对象 -->
    <button @click="btn2Click($event, 'zzt', '18')">按钮2</button>
  </div>
  <script src="https://unpkg.com/vue@next"></script>
  <script>
    const app = {
      methods:{
        btn1Click () {
          console.log(event);
        },
        btn2Click (event, name, age) {
          console.log(name, age, event)
        }
      }
    }
    Vue.createApp(app).mount('#app')
  </script>
</body>
```

-----

v-on 如何使用 ？

```html
<body>
  <div id="app">
    <div @click="divClick">
      <button @click.stop="btnClick">按钮</button>
    </div>
    <!-- 输入时enter键抬起触发事件 -->
    <input type="text" @keyup.enter="enterKeyup">
  </div>
  <script src="https://unpkg.com/vue@next"></script>
  <script>
    const app = {
      methods: {
        divClick() {
          console.log('divClick') // 不会打印
        },
        btnClick() {
          console.log('btnClick') // 会打印
        },
        enterKeyup() {
          console.log('keyup', event.target.value)
        }
      }
    }
    Vue.createApp(app).mount('#app')
  </script>
</body>
```

-----

# v-if 指令

Vue 提供了4个指令来进行条件判断，代码实现。

- `v-if`，`v-else`，`v-else-if`
	- 用于根据条件来渲染某一块的内容：
	- 这些内容只有在条件为 true 时，才会被渲染出来；
	
	基本使用
	
	```html
	<body>
	  <div id="app">
	    <!-- v-if="条件" -->
	    <div class="info" v-if="Object.keys(info).length">
	      <h2>个人信息</h2>
	      <ul>
	        <li>姓名: {{info.name}}</li>
	        <li>年龄: {{info.age}}</li>
	      </ul>
	    </div>
	    <!-- v-else -->
	    <div v-else>
	      <h2>没有输入个人信息</h2>
	      <p>请输入个人信息后, 再进行展示~</p>
	    </div>
	  </div>
	  <script src="../lib/vue.js"></script>
	  <script>
	    const app = Vue.createApp({
	      data() {
	        return {
	          info: {}
	        }
	      }
	    })
	    app.mount("#app")
	  </script>
	</body>
	```
	
	多个条件的渲染
	
	```html
	<body>
	  <div id="app">
	    <h1 v-if="score > 90">优秀</h1>
	    <h2 v-else-if="score > 80">良好</h2>
	    <h3 v-else-if="score >= 60">及格</h3>
	    <h4 v-else>不及格</h4>
	  </div>
	  <script src="../lib/vue.js"></script>
	  <script>
	    const app = Vue.createApp({
	      // data: option api
	      data() {
	        return {
	          score: 40
	        }
	      },
	    })
	    app.mount("#app")
	  </script>
	</body>
	```
	
- `v-show`

  ```html
  <body>
    <div id="app">
      <h2 v-show="isShow">哈哈哈哈</h2>
    </div>
    <script src="https://unpkg.com/vue@next"></script>
    <script>
      const app = {
        template: '#my-app',
        data() {
          return {
            isShow: true
          }
        }
      }
      Vue.createApp(app).mount('#app')
    </script>
  </body>
  ```

-----

v-if 的渲染原理，3点

-----

Vue3 中 template 元素的使用。

-----

切换二维码案例理解。

-----

v-show 与 v-if 的区别有哪些？

-----

v-for 支持的类型

-----

v-for 的基本使用，遍历对象的使用，遍历数字的使用，代码实现

-----

数组更新检测有哪些方法？

-----

v-for 中 key 的使用？它有什么用？